"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const RosApiCrud_1 = require("./RosApiCrud");
const RosApiModel_1 = require("./RosApiModel");
const debug = require("debug");
const info = debug("routeros-client:commands:info");
const error = debug("routeros-client:commands:error");
class RosApiCommands extends RosApiCrud_1.RouterOSAPICrud {
    /**
     * Creates a set of operations to do over a menu
     *
     * @param rosApi The raw API
     * @param path The menu path we are doing actions on
     * @param snakeCase If we should use snake_case
     */
    constructor(rosApi, path, snakeCase) {
        super(rosApi, path, snakeCase);
    }
    /**
     * Limits the returned fields when printing
     *
     * @param fields Fields to return
     */
    select(fields) {
        let commaFields = "=.proplist=";
        if (typeof fields === "string")
            fields = [fields];
        for (let i = 0; i < fields.length; i++) {
            const field = fields[i];
            if (/id|dead|nextid/.test(field))
                fields[i] = "." + field;
        }
        // Convert array to a string comma separated 
        commaFields += fields;
        this.proplistVal = commaFields;
        return this;
    }
    /**
     * Moves a rule ABOVE the destination
     *
     * @param from the rule you want to move
     * @param to the destination where you want to move
     */
    move(from, to) {
        return super.moveEntry(from, to);
    }
    /**
     * Alias for select()
     * @param fields Fields to return
     */
    only(fields) {
        return this.select(fields);
    }
    /**
     * Add an option to the command. As an example: count-only or detail
     *
     * @param opts an option or array of options
     * @param args multiple strings of parameters of options
     */
    options(opts, ...args) {
        if (typeof opts === "string")
            opts = [opts];
        opts = opts.concat(args || []);
        const optObj = {};
        for (const opt of opts)
            optObj[opt] = "";
        return this.where(optObj, "", false);
    }
    /**
     * Alias for select()
     * @param fields
     */
    proplist(fields) {
        return this.select(fields);
    }
    /**
     * Filters the content when printing or define which item
     * will do actions to when not printing
     *
     * @param key a key to a value or an object with keys and values to filter
     * @param value the value if a string key is passed
     * @param addQuestionMark if will start the sentence with a question mark (?), else, starts with equal (=)
     */
    where(key, value = "", addQuestionMark = true) {
        let search = new Object();
        if (typeof key === "string") {
            search[key] = value;
        }
        else {
            search = key;
        }
        this.makeQuery(search, addQuestionMark);
        return this;
    }
    /**
     * Alias to where, but without adding question marks
     *
     * @param key a key to a value or an object with keys and values to filter
     * @param value the value if a string key is passed
     */
    query(key, value) {
        return this.where(key, value, false);
    }
    /**
     * Alias to where, but without adding question marks
     *
     * @param key a key to a value or an object with keys and values to filter
     * @param value the value if a string key is passed
     */
    filter(key, value) {
        return this.where(key, value, false);
    }
    /**
     * Raw API syntax to be added to the stack
     *
     * @param search array of sentences to send over the api
     */
    whereRaw(search) {
        this.queryVal = this.queryVal.concat(search);
        return this;
    }
    /**
     * Adds an OR operator when filtering content
     *
     * @param key a key to a value or an object with keys and values to filter
     * @param value the value if a string key is passed
     */
    orWhere(key, value) {
        this.where(key, value);
        this.queryVal.push("?#|");
        return this;
    }
    /**
     * Adds a NOT and then OR operator when filtering content
     *
     * @param key a key to a value or an object with keys and values to filter
     * @param value the value if a string key is passed
     */
    orWhereNot(key, value) {
        this.where(key, value);
        this.queryVal.push("?#!", "?#|");
        return this;
    }
    /**
     * Adds an AND operator when filtering content
     *
     * @param key a key to a value or an object with keys and values to filter
     * @param value the value if a string key is passed
     */
    andWhere(key, value) {
        this.where(key, value);
        this.queryVal.push("?#&");
        return this;
    }
    /**
     * Adds a NOT and then an AND operator when filtering content
     *
     * @param key a key to a value or an object with keys and values to filter
     * @param value the value if a string key is passed
     */
    andWhereNot(key, value) {
        this.where(key, value);
        this.queryVal.push("?#!", "?#&");
        return this;
    }
    /**
     * Adds an NOT operator when filtering content
     *
     * @param key a key to a value or an object with keys and values to filter
     * @param value the value if a string key is passed
     */
    whereNot(key, value) {
        this.where(key, value);
        this.queryVal.push("?#!");
        return this;
    }
    /**
     * Adds a HIGHER THAN (>) operator when filtering content
     *
     * @param key a key to a value or an object with keys and values to filter
     * @param value the value if a string key is passed
     */
    whereHigher(key, value) {
        this.where(">" + key, value);
        return this;
    }
    /**
     * Adds a LOWER THAN (<) operator when filtering content
     *
     * @param key a key to a value or an object with keys and values to filter
     * @param value the value if a string key is passed
     */
    whereLower(key, value) {
        this.where("<" + key, value);
        return this;
    }
    /**
     * Checks if the parameter or key exists by having a value when filtering
     *
     * @param key the parameter to check
     */
    whereExists(key) {
        return this.whereHigher(key);
    }
    /**
     * Alias to whereExists
     *
     * @param key the parameter to check
     */
    whereNotEmpty(key) {
        return this.whereHigher(key);
    }
    /**
     * Check if the parameter or key doesn't exist or has no value when filtering
     *
     * @param key the parameter to check
     */
    whereEmpty(key) {
        this.where("-" + key);
        return this;
    }
    /**
     * Alias of whereEmpty
     *
     * @param key the parameter to check
     */
    whereNotExists(key) {
        return this.whereEmpty(key);
    }
    /**
     * Prints the data of the menu
     *
     * @param data optional filtering, like what you get when using the where function
     */
    get(data) {
        if (data)
            this.makeQuery(data, true);
        const query = this.fullQuery("/print");
        return this.write(query);
    }
    /**
     * Alias of get
     *
     * @param data optional filtering, like what you get when using the where function
     */
    getAll(data) {
        return this.get(data);
    }
    /**
     * Alias of get, but in the process creates a model
     * of each item returned
     *
     * @param data optional filtering, like what you get when using the where function
     */
    getModel(data) {
        return this.get(data).then((results) => {
            for (let i = 0; i < results.length; i++) {
                results[i] = new RosApiModel_1.RosApiModel(this.rosApi, results[i], this.snakeCase);
            }
            return Promise.resolve(results);
        }).catch((err) => {
            return Promise.reject(err);
        });
    }
    /**
     * Alias of get
     *
     * @param data optional filtering, like what you get when using the where function
     */
    print(data) {
        return this.get(data);
    }
    /**
     * Alias of find
     *
     * @param data optional filtering, like what you get when using the where function
     */
    first(data) {
        return this.find(data);
    }
    /**
     * Returns the first item if found, else return null
     *
     * @param data optional filtering, like what you get when using the where function
     */
    find(data) {
        return this.get(data).then((results) => {
            let result = new Object();
            if (results.length > 0)
                result = results[0];
            else
                result = null;
            return Promise.resolve(result);
        }).catch((err) => {
            return Promise.reject(err);
        });
    }
    /**
     * Alias of find
     *
     * @param data optional filtering, like what you get when using the where function
     */
    getOne(data) {
        return this.find(data);
    }
    /**
     * Alias of find
     *
     * @param data optional filtering, like what you get when using the where function
     */
    getOnly(data) {
        return this.find(data);
    }
    /**
     * Remove all entries of the current menu
     */
    purge() {
        return this.write([
            this.pathVal + "/print",
            "=.proplist=.id"
        ]).then((results) => {
            const ids = results.map((result) => {
                return result[".id"];
            });
            return this.write([
                this.pathVal + "/remove",
                "=numbers=" + ids
            ]);
        }).catch((err) => {
            return Promise.reject(err);
        });
    }
    /**
     * Start a streaming of content and returns a Stream object
     * so it can be paused, resumed or stopped
     *
     * @param action optional action to add when streaming, like "listen" for example
     * @param callback
     */
    stream(action, callback) {
        if (typeof action === "function") {
            callback = action;
            action = "";
        }
        else if (action && typeof action === "string") {
            action = "/" + action.replace(/^\//, "");
        }
        const query = this.fullQuery(action);
        info("Streaming query %o", query);
        this.queryVal = [];
        this.proplistVal = "";
        return this.rosApi.stream(query, (err, packet, stream) => {
            if (err)
                error("When streaming, got error: %o", err);
            if (typeof callback === "function") {
                if (packet) {
                    info("Received stream packet: %o", packet);
                    if (!Array.isArray(packet)) {
                        packet = this.treatMikrotikProperties([packet])[0];
                    }
                    else {
                        packet = this.treatMikrotikProperties(packet);
                    }
                }
                callback(err, packet, stream);
            }
        });
    }
}
exports.RosApiCommands = RosApiCommands;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUm9zQXBpQ29tbWFuZHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvUm9zQXBpQ29tbWFuZHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSw2Q0FBK0M7QUFDL0MsK0NBQTRDO0FBRTVDLCtCQUErQjtBQUUvQixNQUFNLElBQUksR0FBRyxLQUFLLENBQUMsK0JBQStCLENBQUMsQ0FBQztBQUNwRCxNQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsZ0NBQWdDLENBQUMsQ0FBQztBQUV0RCxvQkFBNEIsU0FBUSw0QkFBZTtJQUUvQzs7Ozs7O09BTUc7SUFDSCxZQUFZLE1BQW1CLEVBQUUsSUFBWSxFQUFFLFNBQWtCO1FBQzdELEtBQUssQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLFNBQVMsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFFRDs7OztPQUlHO0lBQ0ksTUFBTSxDQUFDLE1BQXlCO1FBQ25DLElBQUksV0FBVyxHQUFXLGFBQWEsQ0FBQztRQUN4QyxJQUFJLE9BQU8sTUFBTSxLQUFLLFFBQVE7WUFBRSxNQUFNLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUVsRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNwQyxNQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDeEIsSUFBSSxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO2dCQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsS0FBSyxDQUFDO1NBQzdEO1FBRUQsNkNBQTZDO1FBQzdDLFdBQVcsSUFBSSxNQUFNLENBQUM7UUFDdEIsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7UUFDL0IsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUVEOzs7OztPQUtHO0lBQ0ksSUFBSSxDQUFDLElBQWMsRUFBRSxFQUFv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